{"version":3,"sources":["js/gallery-items.js","js/make-gallery.js","js/interactivity.js","js/index.js"],"names":["ulGallery","preview","original","description","listGalleryEl","document","querySelector","makeGallery","array","result","map","innerHTML","join","indexCurrentPhoto","lightboxButtonEl","lightboxEl","lightboxImageEl","lightboxOverlayEl","openGallery","event","removeEventListener","addEventListener","closeModal","window","flickThrough","preventDefault","target","classList","contains","add","addAttributeOnLightboxImage","src","dataset","source","alt","nodeName","code","remove","removeAttribute","findIndex","length","forEach","el","i","getAttribute"],"mappings":"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","file":"js.cd725398.js","sourceRoot":"..","sourcesContent":["\r\nexport const ulGallery = [\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n        description: 'Hokkaido Flower',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n        description: 'Container Haulage Freight',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n        description: 'Aerial Beach View',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n        description: 'Flower Blooms',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n        description: 'Alpine Mountains',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n        description: 'Mountain Lake Sailing',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n        description: 'Alpine Spring Meadows',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n        description: 'Nature Landscape',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n        description: 'Lighthouse Coast Sea',\r\n    },\r\n];","const listGalleryEl = document.querySelector('.js-gallery');\r\n\r\n//makeGallery\r\nexport const makeGallery = (array) => {\r\n    const result = array.map(({ preview, original, description }) =>\r\n        `<li class=\"gallery__item\">\r\n  <a class=\"gallery__link\"\r\n    href=${original}>\r\n    <img class=\"gallery__image\"\r\n      src=${preview}\r\n      data-source=${original}\r\n      alt='${description}'/>\r\n  </a>\r\n</li>`);\r\n    listGalleryEl.innerHTML = result.join('');\r\n};\r\n","const listGalleryEl = document.querySelector('.js-gallery');\r\nconst lightboxButtonEl = document.querySelector('button[data-action=\"close-lightbox\"]');\r\nconst lightboxEl = document.querySelector('.js-lightbox');\r\nconst lightboxImageEl = lightboxEl.querySelector('.lightbox__image');\r\nconst lightboxOverlayEl = lightboxEl.querySelector('.lightbox__overlay');\r\n\r\n\r\n\r\nexport const openGallery = function (event) {\r\n    listGalleryEl.removeEventListener('click', openGallery);\r\n    lightboxEl.addEventListener('click', closeModal);\r\n    window.addEventListener('keydown', closeModal);\r\n    lightboxButtonEl.addEventListener('click', closeModal);\r\n    window.addEventListener('keyup', flickThrough);\r\n\r\n    event.preventDefault();\r\n    if (!event.target.classList.contains('gallery__image')) {\r\n    }\r\n    lightboxEl.classList.add('is-open');\r\n    addAttributeOnLightboxImage(event);\r\n};\r\n\r\nfunction addAttributeOnLightboxImage(event) {\r\n    lightboxImageEl.src = event.target.dataset.source;\r\n    lightboxImageEl.alt = event.target.alt;\r\n};\r\n\r\n//closing modal\r\n\r\nfunction closeModal(event) {\r\n\r\n    if (event.target.nodeName === 'BUTTON' || event.code === 'Escape' || event.target === lightboxOverlayEl) {\r\n        listGalleryEl.addEventListener('click', openGallery);\r\n        lightboxEl.classList.remove('is-open');\r\n        lightboxImageEl.removeAttribute('src');\r\n        lightboxImageEl.removeAttribute('alt');\r\n        window.removeEventListener('keyup', flickThrough);\r\n    };\r\n};\r\n\r\n\r\n//right and left\r\nlet indexCurrentPhoto;\r\nfunction flickThrough(event) {\r\n    findIndex();\r\n\r\n    if (event.code === 'ArrowRight') {\r\n        if (indexCurrentPhoto === ulGallery.length - 1) {\r\n            indexCurrentPhoto = -1;\r\n        };\r\n        lightboxImageEl.src = ulGallery[indexCurrentPhoto + 1].original;\r\n        lightboxImageEl.alt = ulGallery[indexCurrentPhoto + 1].description;\r\n        return lightboxImageEl;\r\n    };\r\n\r\n    if (event.code === 'ArrowLeft') {\r\n        if (indexCurrentPhoto === 0) {\r\n            indexCurrentPhoto = ulGallery.length;\r\n        };\r\n        lightboxImageEl.src = ulGallery[indexCurrentPhoto - 1].original;\r\n        lightboxImageEl.alt = ulGallery[indexCurrentPhoto - 1].description;\r\n        return lightboxImageEl;\r\n    };\r\n};\r\n\r\nfunction findIndex() {\r\n    ulGallery.forEach((el, i) => {\r\n        if (el.description === lightboxImageEl.getAttribute('alt')) {\r\n            return indexCurrentPhoto = i;\r\n        }\r\n    });\r\n}","import { ulGallery } from './gallery-items';\r\n\r\n// Создание разметки \r\nconst listGalleryEl = document.querySelector('.js-gallery');\r\nconst lightboxButtonEl = document.querySelector('button[data-action=\"close-lightbox\"]');\r\nconst lightboxEl = document.querySelector('.js-lightbox');\r\nconst lightboxImageEl = lightboxEl.querySelector('.lightbox__image');\r\nconst lightboxOverlayEl = lightboxEl.querySelector('.lightbox__overlay');\r\n\r\n\r\nimport { makeGallery } from './make-gallery';\r\nmakeGallery(ulGallery);\r\n\r\n//loading = 'lazy';\r\n// const arrImgPreviewEl = listGalleryEl.querySelectorAll('.gallery__image');\r\n\r\n\r\n// if ('loading' in HTMLImageElement.prototype) {\r\n\r\n//   arrImgPreviewEl.forEach(img => {\r\n//     img.setAttribute('data-src', img.src);\r\n//     img.setAttribute('loading', 'lazy');\r\n//   });\r\n// } else {\r\n//   const scriptEl = document.createElement('script');\r\n//   scriptEl.src = \"./js/lazysizes.min.js\";\r\n//   scriptEl.async = \"\";\r\n//   const bodyEl = document.querySelector('body');\r\n//   bodyEl.append(scriptEl);\r\n//   img.classList.add('lazyload');\r\n// }\r\nlistGalleryEl.addEventListener('click', openGallery);\r\n\r\nlightboxEl.removeEventListener('click', closeModal);\r\nwindow.removeEventListener('keydown', closeModal);\r\nlightboxButtonEl.removeEventListener('click', closeModal);\r\nimport { openGallery } from './interactivity';\r\n//Делигирование\r\n// listGalleryEl.addEventListener('click', openGallery);\r\n\r\n// lightboxEl.removeEventListener('click', closeModal);\r\n// window.removeEventListener('keydown', closeModal);\r\n// lightboxButtonEl.removeEventListener('click', closeModal);\r\n\r\n// function openGallery(event) {\r\n//     listGalleryEl.removeEventListener('click', openGallery);\r\n//     lightboxEl.addEventListener('click', closeModal);\r\n//     window.addEventListener('keydown', closeModal);\r\n//     lightboxButtonEl.addEventListener('click', closeModal);\r\n//     window.addEventListener('keyup', flickThrough);\r\n\r\n//     event.preventDefault();\r\n//     if (!event.target.classList.contains('gallery__image')) {\r\n//     }\r\n//     lightboxEl.classList.add('is-open');\r\n//     addAttributeOnLightboxImage(event);\r\n// };\r\n\r\n// function addAttributeOnLightboxImage(event) {\r\n//     lightboxImageEl.src = event.target.dataset.source;\r\n//     lightboxImageEl.alt = event.target.alt;\r\n// };\r\n\r\n// //closing modal\r\n\r\n// function closeModal(event) {\r\n\r\n//     if (event.target.nodeName === 'BUTTON' || event.code === 'Escape' || event.target === lightboxOverlayEl) {\r\n//         listGalleryEl.addEventListener('click', openGallery);\r\n//         lightboxEl.classList.remove('is-open');\r\n//         lightboxImageEl.removeAttribute('src');\r\n//         lightboxImageEl.removeAttribute('alt');\r\n//         window.removeEventListener('keyup', flickThrough);\r\n//     };\r\n// };\r\n\r\n\r\n// //right and left\r\n// let indexCurrentPhoto;\r\n// function flickThrough(event) {\r\n//     findIndex();\r\n\r\n//     if (event.code === 'ArrowRight') {\r\n//         if (indexCurrentPhoto === ulGallery.length - 1) {\r\n//             indexCurrentPhoto = -1;\r\n//         };\r\n//         lightboxImageEl.src = ulGallery[indexCurrentPhoto + 1].original;\r\n//         lightboxImageEl.alt = ulGallery[indexCurrentPhoto + 1].description;\r\n//         return lightboxImageEl;\r\n//     };\r\n\r\n//     if (event.code === 'ArrowLeft') {\r\n//         if (indexCurrentPhoto === 0) {\r\n//             indexCurrentPhoto = ulGallery.length;\r\n//         };\r\n//         lightboxImageEl.src = ulGallery[indexCurrentPhoto - 1].original;\r\n//         lightboxImageEl.alt = ulGallery[indexCurrentPhoto - 1].description;\r\n//         return lightboxImageEl;\r\n//     };\r\n// };\r\n\r\n// function findIndex() {\r\n//     ulGallery.forEach((el, i) => {\r\n//         if (el.description === lightboxImageEl.getAttribute('alt')) {\r\n//             return indexCurrentPhoto = i;\r\n//         }\r\n//     });\r\n// }"]}