{"version":3,"sources":["js/gallery-items.js","js/make-gallery.js","js/tests.js","js/index.js"],"names":["ulGallery","preview","original","description","listGalleryEl","document","querySelector","makeGallery","array","result","map","innerHTML","join","a","console","log","lightboxButtonEl","lightboxEl","lightboxImageEl","lightboxOverlayEl","addEventListener","openGallery","removeEventListener","closeModal","window","event","flickThrough","preventDefault","target","classList","contains","add","addAttributeOnLightboxImage","src","dataset","source","alt","nodeName","code","remove","removeAttribute","indexCurrentPhoto","findIndex","length","forEach","el","i","getAttribute"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"..","sourcesContent":["\r\nexport const ulGallery = [\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n        description: 'Hokkaido Flower',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n        description: 'Container Haulage Freight',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n        description: 'Aerial Beach View',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n        description: 'Flower Blooms',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n        description: 'Alpine Mountains',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n        description: 'Mountain Lake Sailing',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n        description: 'Alpine Spring Meadows',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n        description: 'Nature Landscape',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n        description: 'Lighthouse Coast Sea',\r\n    },\r\n];","const listGalleryEl = document.querySelector('.js-gallery');\r\n\r\n//makeGallery\r\nexport const makeGallery = (array) => {\r\n    const result = array.map(({ preview, original, description }) =>\r\n        `<li class=\"gallery__item\">\r\n  <a class=\"gallery__link\"\r\n    href=${original}>\r\n    <img class=\"gallery__image\"\r\n      src=${preview}\r\n      data-source=${original}\r\n      alt='${description}'/>\r\n  </a>\r\n</li>`);\r\n    listGalleryEl.innerHTML = result.join('');\r\n};\r\n","const a = console.log('gggg');","import { ulGallery } from './gallery-items';\r\n\r\n// Создание разметки \r\nconst listGalleryEl = document.querySelector('.js-gallery');\r\nconst lightboxButtonEl = document.querySelector('button[data-action=\"close-lightbox\"]');\r\nconst lightboxEl = document.querySelector('.js-lightbox');\r\nconst lightboxImageEl = lightboxEl.querySelector('.lightbox__image');\r\nconst lightboxOverlayEl = lightboxEl.querySelector('.lightbox__overlay');\r\n\r\n\r\nimport { makeGallery } from './make-gallery';\r\nmakeGallery(ulGallery);\r\n\r\n//loading = 'lazy';\r\n// const arrImgPreviewEl = listGalleryEl.querySelectorAll('.gallery__image');\r\n\r\n\r\n// if ('loading' in HTMLImageElement.prototype) {\r\n\r\n//   arrImgPreviewEl.forEach(img => {\r\n//     img.setAttribute('data-src', img.src);\r\n//     img.setAttribute('loading', 'lazy');\r\n//   });\r\n// } else {\r\n//   const scriptEl = document.createElement('script');\r\n//   scriptEl.src = \"./js/lazysizes.min.js\";\r\n//   scriptEl.async = \"\";\r\n//   const bodyEl = document.querySelector('body');\r\n//   bodyEl.append(scriptEl);\r\n//   img.classList.add('lazyload');\r\n// }\r\n\r\n//Делигирование\r\nlistGalleryEl.addEventListener('click', openGallery);\r\n\r\nlightboxEl.removeEventListener('click', closeModal);\r\nwindow.removeEventListener('keydown', closeModal);\r\nlightboxButtonEl.removeEventListener('click', closeModal);\r\n\r\nfunction openGallery(event) {\r\n    listGalleryEl.removeEventListener('click', openGallery);\r\n    lightboxEl.addEventListener('click', closeModal);\r\n    window.addEventListener('keydown', closeModal);\r\n    lightboxButtonEl.addEventListener('click', closeModal);\r\n    window.addEventListener('keyup', flickThrough);\r\n\r\n    event.preventDefault();\r\n    if (!event.target.classList.contains('gallery__image')) {\r\n    }\r\n    lightboxEl.classList.add('is-open');\r\n    addAttributeOnLightboxImage(event);\r\n};\r\n\r\nfunction addAttributeOnLightboxImage(event) {\r\n    lightboxImageEl.src = event.target.dataset.source;\r\n    lightboxImageEl.alt = event.target.alt;\r\n};\r\n\r\n//closing modal\r\n\r\nfunction closeModal(event) {\r\n\r\n    if (event.target.nodeName === 'BUTTON' || event.code === 'Escape' || event.target === lightboxOverlayEl) {\r\n        listGalleryEl.addEventListener('click', openGallery);\r\n        lightboxEl.classList.remove('is-open');\r\n        lightboxImageEl.removeAttribute('src');\r\n        lightboxImageEl.removeAttribute('alt');\r\n        window.removeEventListener('keyup', flickThrough);\r\n    };\r\n};\r\n\r\n\r\n//right and left\r\nlet indexCurrentPhoto;\r\nfunction flickThrough(event) {\r\n    findIndex();\r\n\r\n    if (event.code === 'ArrowRight') {\r\n        if (indexCurrentPhoto === ulGallery.length - 1) {\r\n            indexCurrentPhoto = -1;\r\n        };\r\n        lightboxImageEl.src = ulGallery[indexCurrentPhoto + 1].original;\r\n        lightboxImageEl.alt = ulGallery[indexCurrentPhoto + 1].description;\r\n        return lightboxImageEl;\r\n    };\r\n\r\n    if (event.code === 'ArrowLeft') {\r\n        if (indexCurrentPhoto === 0) {\r\n            indexCurrentPhoto = ulGallery.length;\r\n        };\r\n        lightboxImageEl.src = ulGallery[indexCurrentPhoto - 1].original;\r\n        lightboxImageEl.alt = ulGallery[indexCurrentPhoto - 1].description;\r\n        return lightboxImageEl;\r\n    };\r\n};\r\n\r\nfunction findIndex() {\r\n    ulGallery.forEach((el, i) => {\r\n        if (el.description === lightboxImageEl.getAttribute('alt')) {\r\n            return indexCurrentPhoto = i;\r\n        }\r\n    })\r\n};\r\n\r\nimport { a } from './tests';"]}