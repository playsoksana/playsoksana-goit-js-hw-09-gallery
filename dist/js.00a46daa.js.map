{"version":3,"sources":["js/gallery-items.js","js/index.js"],"names":["ulGallery","preview","original","description","listGalleryEl","document","querySelector","lightboxButtonEl","lightboxEl","lightboxImageEl","lightboxOverlayEl","makeGallery","array","result","map","innerHTML","join","addEventListener","openGallery","removeEventListener","closeModal","window","event","flickThrough","preventDefault","target","classList","contains","add","addAttributeOnLightboxImage","src","dataset","source","alt","nodeName","code","remove","removeAttribute","indexCurrentPhoto","findIndex","length","forEach","el","i","getAttribute"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"..","sourcesContent":["\r\nexport const ulGallery = [\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n        description: 'Hokkaido Flower',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n        description: 'Container Haulage Freight',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n        description: 'Aerial Beach View',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n        description: 'Flower Blooms',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n        description: 'Alpine Mountains',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n        description: 'Mountain Lake Sailing',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n        description: 'Alpine Spring Meadows',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n        description: 'Nature Landscape',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n        description: 'Lighthouse Coast Sea',\r\n    },\r\n];","import { ulGallery } from './gallery-items';\r\n\r\n// Создание разметки \r\nconst listGalleryEl = document.querySelector('.js-gallery');\r\n\r\nconst lightboxButtonEl = document.querySelector('button[data-action=\"close-lightbox\"]');\r\nconst lightboxEl = document.querySelector('.js-lightbox');\r\nconst lightboxImageEl = lightboxEl.querySelector('.lightbox__image');\r\nconst lightboxOverlayEl = lightboxEl.querySelector('.lightbox__overlay');\r\n\r\n//makeGallery\r\nconst makeGallery = (array) => {\r\n    const result = array.map(({ preview, original, description }) =>\r\n        `<li class=\"gallery__item\">\r\n  <a class=\"gallery__link\"\r\n    href=${original}>\r\n    <img class=\"gallery__image\"\r\n      src=${preview}\r\n      data-source=${original}\r\n      alt='${description}'/>\r\n  </a>\r\n</li>`);\r\n    listGalleryEl.innerHTML = result.join('');\r\n};\r\nmakeGallery(ulGallery);\r\n\r\n//loading = 'lazy';\r\n// const arrImgPreviewEl = listGalleryEl.querySelectorAll('.gallery__image');\r\n\r\n\r\n// if ('loading' in HTMLImageElement.prototype) {\r\n\r\n//   arrImgPreviewEl.forEach(img => {\r\n//     img.setAttribute('data-src', img.src);\r\n//     img.setAttribute('loading', 'lazy');\r\n//   });\r\n// } else {\r\n//   const scriptEl = document.createElement('script');\r\n//   scriptEl.src = \"./js/lazysizes.min.js\";\r\n//   scriptEl.async = \"\";\r\n//   const bodyEl = document.querySelector('body');\r\n//   bodyEl.append(scriptEl);\r\n//   img.classList.add('lazyload');\r\n// }\r\n\r\n\r\n//Делигирование \r\nlistGalleryEl.addEventListener('click', openGallery);\r\n\r\nlightboxEl.removeEventListener('click', closeModal);\r\nwindow.removeEventListener('keydown', closeModal);\r\nlightboxButtonEl.removeEventListener('click', closeModal);\r\n\r\nfunction openGallery(event) {\r\n    listGalleryEl.removeEventListener('click', openGallery);\r\n    lightboxEl.addEventListener('click', closeModal);\r\n    window.addEventListener('keydown', closeModal);\r\n    lightboxButtonEl.addEventListener('click', closeModal);\r\n    window.addEventListener('keyup', flickThrough);\r\n\r\n    event.preventDefault();\r\n    if (!event.target.classList.contains('gallery__image')) {\r\n    }\r\n    lightboxEl.classList.add('is-open');\r\n    addAttributeOnLightboxImage(event);\r\n};\r\n\r\nfunction addAttributeOnLightboxImage(event) {\r\n    lightboxImageEl.src = event.target.dataset.source;\r\n    lightboxImageEl.alt = event.target.alt;\r\n};\r\n\r\n\r\n\r\n\r\n//closing modal\r\n\r\nfunction closeModal(event) {\r\n\r\n    if (event.target.nodeName === 'BUTTON' || event.code === 'Escape' || event.target === lightboxOverlayEl) {\r\n        listGalleryEl.addEventListener('click', openGallery);\r\n        lightboxEl.classList.remove('is-open');\r\n        lightboxImageEl.removeAttribute('src');\r\n        lightboxImageEl.removeAttribute('alt');\r\n        window.removeEventListener('keyup', flickThrough);\r\n    };\r\n};\r\n\r\n\r\n//right and left\r\nlet indexCurrentPhoto;\r\nfunction flickThrough(event) {\r\n    findIndex();\r\n\r\n    if (event.code === 'ArrowRight') {\r\n        if (indexCurrentPhoto === ulGallery.length - 1) {\r\n            indexCurrentPhoto = -1;\r\n        };\r\n        lightboxImageEl.src = ulGallery[indexCurrentPhoto + 1].original;\r\n        lightboxImageEl.alt = ulGallery[indexCurrentPhoto + 1].description;\r\n        return lightboxImageEl;\r\n    };\r\n\r\n    if (event.code === 'ArrowLeft') {\r\n        if (indexCurrentPhoto === 0) {\r\n            indexCurrentPhoto = ulGallery.length;\r\n        };\r\n        lightboxImageEl.src = ulGallery[indexCurrentPhoto - 1].original;\r\n        lightboxImageEl.alt = ulGallery[indexCurrentPhoto - 1].description;\r\n        return lightboxImageEl;\r\n    };\r\n};\r\n\r\nfunction findIndex() {\r\n    ulGallery.forEach((el, i) => {\r\n        if (el.description === lightboxImageEl.getAttribute('alt')) {\r\n            return indexCurrentPhoto = i;\r\n        }\r\n    });\r\n}"]}